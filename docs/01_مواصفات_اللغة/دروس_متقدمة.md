# دروس متقدمة في لغة باء

## نظرة عامة

يغطي هذا الدليل المفاهيم المتقدمة في لغة باء مع أمثلة عملية قابلة للتطبيق. مصمم للمطورين الذين يريدون تعميق فهمهم للغة والخوارزميات المعقدة.

## 🧮 خوارزميات وهياكل البيانات المتقدمة

### خوارزمية البحث الثنائي العودية

```baa
// دالة البحث الثنائي العودية
عدد_صحيح بحث_ثنائي_عودي(عدد_صحيح المصفوفة[]، عدد_صحيح اليسار، عدد_صحيح اليمين، عدد_صحيح الهدف) {
    إذا (اليمين >= اليسار) {
        عدد_صحيح الوسط = اليسار + (اليمين - اليسار) / ٢.
        
        // إذا وُجد العنصر في الوسط
        إذا (المصفوفة[الوسط] == الهدف) {
            إرجع الوسط.
        }
        
        // إذا كان الهدف أصغر من عنصر الوسط
        إذا (المصفوفة[الوسط] > الهدف) {
            إرجع بحث_ثنائي_عودي(المصفوفة، اليسار، الوسط - ١، الهدف).
        }
        
        // إذا كان الهدف أكبر من عنصر الوسط
        إرجع بحث_ثنائي_عودي(المصفوفة، الوسط + ١، اليمين، الهدف).
    }
    
    // لم يُعثر على العنصر
    إرجع -١.
}

// دالة مساعدة لاستدعاء البحث الثنائي
عدد_صحيح ابحث_في_المصفوفة(عدد_صحيح المصفوفة[]، عدد_صحيح الحجم، عدد_صحيح الهدف) {
    إرجع بحث_ثنائي_عودي(المصفوفة، ٠، الحجم - ١، الهدف).
}

عدد_صحيح رئيسية() {
    عدد_صحيح المصفوفة_المرتبة[] = {٢، ٥، ٨، ١٢، ١٦، ٢٣، ٣٨، ٤٥، ٥٦، ٦٧}.
    عدد_صحيح الحجم = ١٠.
    
    اطبع("المصفوفة: ").
    لكل (عدد_صحيح ي = ٠؛ ي < الحجم؛ ي++) {
        اطبع_عدد(المصفوفة[ي]).
        إذا (ي < الحجم - ١) اطبع("، ").
    }
    اطبع_سطر_جديد().
    
    // اختبار البحث
    عدد_صحيح عناصر_للبحث[] = {٥، ٢٣، ٦٧، ١٠}.
    عدد_صحيح أحجام_البحث = ٤.
    
    لكل (عدد_صحيح ي = ٠؛ ي < أحجام_البحث؛ ي++) {
        عدد_صحيح الهدف = عناصر_للبحث[ي].
        عدد_صحيح النتيجة = ابحث_في_المصفوفة(المصفوفة_المرتبة، الحجم، الهدف).
        
        اطبع("البحث عن ").
        اطبع_عدد(الهدف).
        اطبع(": ").
        
        إذا (النتيجة != -١) {
            اطبع("وُجد في الموقع ").
            اطبع_عدد(النتيجة).
        } وإلا {
            اطبع("غير موجود").
        }
        اطبع_سطر_جديد().
    }
    
    إرجع ٠.
}
```

### خوارزمية الترتيب السريع (Quick Sort)

```baa
// دالة تقسيم المصفوفة
عدد_صحيح قسم_المصفوفة(عدد_صحيح المصفوفة[]، عدد_صحيح المنخفض، عدد_صحيح المرتفع) {
    عدد_صحيح المحور = المصفوفة[المرتفع].
    عدد_صحيح ي = المنخفض - ١.
    
    لكل (عدد_صحيح ك = المنخفض؛ ك < المرتفع؛ ك++) {
        إذا (المصفوفة[ك] <= المحور) {
            ي++.
            
            // تبديل المصفوفة[ي] والمصفوفة[ك]
            عدد_صحيح مؤقت = المصفوفة[ي].
            المصفوفة[ي] = المصفوفة[ك].
            المصفوفة[ك] = مؤقت.
        }
    }
    
    // تبديل المصفوفة[ي+١] والمحور
    عدد_صحيح مؤقت = المصفوفة[ي + ١].
    المصفوفة[ي + ١] = المصفوفة[المرتفع].
    المصفوفة[المرتفع] = مؤقت.
    
    إرجع (ي + ١).
}

// خوارزمية الترتيب السريع العودية
فراغ ترتيب_سريع_عودي(عدد_صحيح المصفوفة[]، عدد_صحيح المنخفض، عدد_صحيح المرتفع) {
    إذا (المنخفض < المرتفع) {
        // الحصول على نقطة التقسيم
        عدد_صحيح نقطة_التقسيم = قسم_المصفوفة(المصفوفة، المنخفض، المرتفع).
        
        // ترتيب الجزء الأيسر والأيمن
        ترتيب_سريع_عودي(المصفوفة، المنخفض، نقطة_التقسيم - ١).
        ترتيب_سريع_عودي(المصفوفة، نقطة_التقسيم + ١، المرتفع).
    }
}

// دالة مساعدة للترتيب السريع
فراغ ترتيب_سريع(عدد_صحيح المصفوفة[]، عدد_صحيح الحجم) {
    ترتيب_سريع_عودي(المصفوفة، ٠، الحجم - ١).
}

// دالة طباعة المصفوفة
فراغ اطبع_المصفوفة(عدد_صحيح المصفوفة[]، عدد_صحيح الحجم) {
    لكل (عدد_صحيح ي = ٠؛ ي < الحجم؛ ي++) {
        اطبع_عدد(المصفوفة[ي]).
        إذا (ي < الحجم - ١) اطبع(" ").
    }
    اطبع_سطر_جديد().
}

عدد_صحيح رئيسية() {
    عدد_صحيح المصفوفة[] = {٦٤، ٣٤، ٢٥، ١٢، ٢٢، ١١، ٩٠}.
    عدد_صحيح الحجم = ٧.
    
    اطبع("المصفوفة قبل الترتيب: ").
    اطبع_المصفوفة(المصفوفة، الحجم).
    
    ترتيب_سريع(المصفوفة، الحجم).
    
    اطبع("المصفوفة بعد الترتيب: ").
    اطبع_المصفوفة(المصفوفة، الحجم).
    
    إرجع ٠.
}
```

## 🎯 نمط البرمجة الوظيفية

### دوال عالية الرتبة

```baa
// دالة لتطبيق دالة على كل عنصر في المصفوفة
فراغ لكل_عنصر(عدد_صحيح المصفوفة[]، عدد_صحيح الحجم، عدد_صحيح دالة_التطبيق(عدد_صحيح)) {
    لكل (عدد_صحيح ي = ٠؛ ي < الحجم؛ ي++) {
        المصفوفة[ي] = دالة_التطبيق(المصفوفة[ي]).
    }
}

// دوال للتحويل
عدد_صحيح مربع(عدد_صحيح العدد) {
    إرجع العدد * العدد.
}

عدد_صحيح مضاعفة(عدد_صحيح العدد) {
    إرجع العدد * ٢.
}

عدد_صحيح نصف(عدد_صحيح العدد) {
    إرجع العدد / ٢.
}

// دالة فلترة المصفوفة
عدد_صحيح فلترة_المصفوفة(عدد_صحيح المصدر[]، عدد_صحيح الهدف[]، عدد_صحيح الحجم، منطقي دالة_الفلترة(عدد_صحيح)) {
    عدد_صحيح الفهرس = ٠.
    لكل (عدد_صحيح ي = ٠؛ ي < الحجم؛ ي++) {
        إذا (دالة_الفلترة(المصدر[ي])) {
            الهدف[الفهرس] = المصدر[ي].
            الفهرس++.
        }
    }
    إرجع الفهرس.
}

// دوال الفلترة
منطقي زوجي(عدد_صحيح العدد) {
    إرجع العدد % ٢ == ٠.
}

منطقي موجب(عدد_صحيح العدد) {
    إرجع العدد > ٠.
}

منطقي أكبر_من_عشرة(عدد_صحيح العدد) {
    إرجع العدد > ١٠.
}

عدد_صحيح رئيسية() {
    عدد_صحيح الأرقام[] = {١، ٢، ٣، ٤، ٥، ٦، ٧، ٨، ٩، ١٠}.
    عدد_صحيح الحجم = ١٠.
    
    اطبع("المصفوفة الأصلية: ").
    اطبع_المصفوفة(الأرقام، الحجم).
    
    // تطبيق دالة المربع
    لكل_عنصر(الأرقام، الحجم، مربع).
    اطبع("بعد تطبيق دالة المربع: ").
    اطبع_المصفوفة(الأرقام، الحجم).
    
    // إعادة تعيين المصفوفة
    عدد_صحيح الأرقام٢[] = {١، ٢، ٣، ٤، ٥، ٦، ٧، ٨، ٩، ١٠}.
    
    // فلترة الأعداد الزوجية
    عدد_صحيح النتيجة[١٠].
    عدد_صحيح حجم_النتيجة = فلترة_المصفوفة(الأرقام٢، النتيجة، الحجم، زوجي).
    اطبع("الأعداد الزوجية: ").
    اطبع_المصفوفة(النتيجة، حجم_النتيجة).
    
    إرجع ٠.
}
```

### البرمجة الوظيفية مع الدوال العودية

```baa
// دالة تطبيق دالة عودياً
عدد_صحيح تطبيق_عودي(عدد_صحيح العدد، عدد_صحيح دالة_التطبيق(عدد_صحيح)، عدد_صحيح عدد_المرات) {
    إذا (عدد_المرات <= ٠) {
        إرجع العدد.
    }
    
    عدد_صحيح الجديد = دالة_التطبيق(العدد).
    إرجع تطبيق_عودي(الجديد، دالة_التطبيق، عدد_المرات - ١).
}

// دالة تطبيق دالة على تسلسل
فراغ تطبيق_على_تسلسل(عدد_صحيح البداية، عدد_صحيح النهاية، عدد_صحيح دالة_التطبيق(عدد_صحيح)) {
    إذا (البداية > النهاية) {
        إرجع.
    }
    
    اطبع_عدد(دالة_التطبيق(البداية)).
    اطبع(" ").
    تطبيق_على_تسلسل(البداية + ١، النهاية، دالة_التطبيق).
}

// دالة تجميع القيم
عدد_صحيح تجميع_القيم(عدد_صحيح البداية، عدد_صحيح النهاية، عدد_صحيح دالة_التطبيق(عدد_صحيح)) {
    إذا (البداية > النهاية) {
        إرجع ٠.
    }
    
    إرجع دالة_التطبيق(البداية) + تجميع_القيم(البداية + ١، النهاية، دالة_التطبيق).
}

عدد_صحيح رئيسية() {
    عدد_صحيح الرقم = ٣.
    
    // تطبيق دالة المربع ٣ مرات
    عدد_صحيح النتيجة = تطبيق_عودي(الرقم، مربع، ٣).
    اطبع("تطبيق دالة المربع ٣ مرات على ").
    اطبع_عدد(الرقم).
    اطبع(" = ").
    اطبع_عدد(النتيجة).
    اطبع_سطر_جديد().
    
    // تطبيق دالة المربع على تسلسل
    اطبع("مربعات الأرقام من ١ إلى ٥: ").
    تطبيق_على_تسلسل(١، ٥، مربع).
    اطبع_سطر_جديد().
    
    // تجميع القيم
    عدد_صحيح مجموع_المربعات = تجميع_القيم(١، ٥، مربع).
    اطبع("مجموع مربعات الأرقام من ١ إلى ٥ = ").
    اطبع_عدد(مجموع_المربعات).
    اطبع_سطر_جديد().
    
    إرجع ٠.
}
```

## 🎨 نمط البرمجة الكائنية

### هياكل البيانات المعقدة

```baa
// تعريف هيكل الطالب
هيكل طالب {
    حرف الاسم[٥٠].
    عدد_صحيح رقم_الطالب.
    عدد_حقيقي درجات[٥].
    عدد_حقيقي المعدل.
    منطقي نشط.
}.

// دالة إنشاء طالب جديد
طالب إنشاء_طالب(حرف الاسم[]، عدد_صحيح رقم_الطالب) {
    طالب الطالب_الجديد.
    
    // نسخ الاسم
    عدد_صحيح ي = ٠.
    طالما (الاسم[ي] != '\ص' && ي < ٤٩) {
        الطالب_الجديد->الاسم[ي] = الاسم[ي].
        ي++.
    }
    الطالب_الجديد->الاسم[ي] = '\ص'.
    
    الطالب_الجديد->رقم_الطالب = رقم_الطالب.
    الطالب_الجديد->المعدل = ٠٫٠.
    الطالب_الجديد->نشط = صحيح.
    
    // تهيئة الدرجات بصفر
    لكل (عدد_صحيح ك = ٠؛ ك < ٥؛ ك++) {
        الطالب_الجديد->درجات[ك] = ٠٫٠.
    }
    
    إرجع الطالب_الجديد.
}

// دالة إضافة درجة للطالب
فراغ إضافة_درجة(طالب الطالب، عدد_حقيقي الدرجة، عدد_صحيح الفهرس) {
    إذا (الفهرس >= ٠ && الفهرس < ٥) {
        الطالب->درجات[الفهرس] = الدرجة.
        // إعادة حساب المعدل
        الطالب->المعدل = (الطالب->درجات[٠] + الطالب->درجات[١] + الطالب->درجات[٢] + 
                          الطالب->درجات[٣] + الطالب->درجات[٤]) / ٥٫٠.
    }
}

// دالة طباعة معلومات الطالب
فراغ طباعة_الطالب(طالب الطالب) {
    اطبع("الطالب: ").
    اطبع(الطالب->الاسم).
    اطبع(" (رقم: ").
    اطبع_عدد(الطالب->رقم_الطالب).
    اطبع(")\س").
    
    اطبع("الدرجات: ").
    لكل (عدد_صحيح ي = ٠؛ ي < ٥؛ ي++) {
        اطبع_عدد_حقيقي(الطالب->درجات[ي]).
        إذا (ي < ٤) اطبع("، ").
    }
    اطبع_سطر_جديد().
    
    اطبع("المعدل: ").
    اطبع_عدد_حقيقي(الطالب->المعدل).
    اطبع_سطر_جديد().
    
    إذا (الطالب->نشط) {
        اطبع("الحالة: نشط").
    } وإلا {
        اطبع("الحالة: غير نشط").
    }
    اطبع_سطر_جديد().
    اطبع("---").
}

عدد_صحيح رئيسية() {
    // إنشاء طالبين
    طالب أحمد = إنشاء_طالب("أحمد محمد", ٢٠١).
    طالب فاطمة = إنشاء_طالب("فاطمة علي", ٢٠٢).
    
    // إضافة درجات لأحمد
    إضافة_درجة(أحمد, ٨٥٫٠، ٠).
    إضافة_درجة(أحمد, ٩٠٫٠، ١).
    إضافة_درجة(أحمد, ٨٨٫٠، ٢).
    إضافة_درجة(أحمد, ٩٢٫٠، ٣).
    إضافة_درجة(أحمد, ٨٧٫٠، ٤).
    
    // إضافة درجات لفاطمة
    إضافة_درجة(فاطمة, ٩٥٫٠، ٠).
    إضافة_درجة(فاطمة, ٩٣٫٠، ١).
    إضافة_درجة(فاطمة, ٩٨٫٠، ٢).
    إضافة_درجة(فاطمة, ٩٧٫٠، ٣).
    إضافة_درجة(فاطمة, ٩٦٫٠، ٤).
    
    // طباعة المعلومات
    طباعة_الطالب(أحمد).
    طباعة_الطالب(فاطمة).
    
    // مقارنة المعدلات
    إذا (أحمد->المعدل > فاطمة->المعدل) {
        اطبع("أحمد لديه معدل أعلى").
    } وإلا إذا (فاطمة->المعدل > أحمد->المعدل) {
        اطبع("فاطمة لديها معدل أعلى").
    } وإلا {
        اطبع("المعدل متساوي").
    }
    
    إرجع ٠.
}
```

### نظام إدارة المكتبة

```baa
#تعريف MAX_BOOKS ١٠٠
#تعريف MAX_TITLE_LENGTH ١٠٠
#تعريف MAX_AUTHOR_LENGTH ٥٠

// هيكل الكتاب
هيكل كتاب {
    حرف العنوان[MAX_TITLE_LENGTH].
    حرف المؤلف[MAX_AUTHOR_LENGTH].
    عدد_صحيح رقم_الكتاب.
    عدد_صحيح سنة_النشر.
    منطقي متوفر.
    عدد_صحيح عدد_الاستعارات.
}.

// قاعدة بيانات الكتب
كتاب مكتبة[MAX_BOOKS].
عدد_صحيح عدد_الكتب = ٠.

// دالة إضافة كتاب جديد
عدد_صحيح إضافة_كتاب(حرف العنوان[]، حرف المؤلف[]، عدد_صحيح رقم_الكتاب، عدد_صحيح سنة_النشر) {
    إذا (عدد_الكتب >= MAX_BOOKS) {
        إرجع -١. // المكتبة ممتلئة
    }
    
    كتاب* الكتاب_الجديد = &مكتبة[عدد_الكتب].
    
    // نسخ العنوان
    عدد_صحيح ي = ٠.
    طالما (العنوان[ي] != '\ص' && ي < MAX_TITLE_LENGTH - ١) {
        الكتاب_الجديد->العنوان[ي] = العنوان[ي].
        ي++.
    }
    الكتاب_الجديد->العنوان[ي] = '\ص'.
    
    // نسخ المؤلف
    ي = ٠.
    طالما (المؤلف[ي] != '\ص' && ي < MAX_AUTHOR_LENGTH - ١) {
        الكتاب_الجديد->المؤلف[ي] = المؤلف[ي].
        ي++.
    }
    الكتاب_الجديد->المؤلف[ي] = '\ص'.
    
    الكتاب_الجديد->رقم_الكتاب = رقم_الكتاب.
    الكتاب_الجديد->سنة_النشر = سنة_النشر.
    الكتاب_الجديد->متوفر = صحيح.
    الكتاب_الجديد->عدد_الاستعارات = ٠.
    
    عدد_الكتب++.
    إرجع عدد_الكتب - ١. // فهرس الكتاب الجديد
}

// دالة البحث عن كتاب برقمه
عدد_صحيح البحث_بالرقم(عدد_صحيح رقم_الكتاب) {
    لكل (عدد_صحيح ي = ٠؛ ي < عدد_الكتب؛ ي++) {
        إذا (مكتبة[ي].رقم_الكتاب == رقم_الكتاب) {
            إرجع ي.
        }
    }
    إرجع -١. // لم يُعثر على الكتاب
}

// دالة استعارة كتاب
منطقي استعارة_كتاب(عدد_صحيح فهرس_الكتاب) {
    إذا (فهرس_الكتاب >= ٠ && فهرس_الكتاب < عدد_الكتب) {
        إذا (مكتبة[فهرس_الكتاب].متوفر) {
            مكتبة[فهرس_الكتاب].متوفر = خطأ.
            مكتبة[فهرس_الكتاب].عدد_الاستعارات++.
            إرجع صحيح.
        }
    }
    إرجع خطأ.
}

// دالة إرجاع كتاب
منطقي إرجاع_كتاب(عدد_صحيح فهرس_الكتاب) {
    إذا (فهرس_الكتاب >= ٠ && فهرس_الكتاب < عدد_الكتب) {
        إذا (!مكتبة[فهرس_الكتاب].متوفر) {
            مكتبة[فهرس_الكتاب].متوفر = صحيح.
            إرجع صحيح.
        }
    }
    إرجع خطأ.
}

// دالة طباعة معلومات كتاب
فراغ طباعة_كتاب(كتاب الكتاب) {
    اطبع("العنوان: ").
    اطبع(الكتاب->العنوان).
    اطبع_سطر_جديد().
    
    اطبع("المؤلف: ").
    اطبع(الكتاب->المؤلف).
    اطبع_سطر_جديد().
    
    اطبع("رقم الكتاب: ").
    اطبع_عدد(الكتاب->رقم_الكتاب).
    اطبع_سطر_جديد().
    
    اطبع("سنة النشر: ").
    اطبع_عدد(الكتاب->سنة_النشر).
    اطبع_سطر_جديد().
    
    إذا (الكتاب->متوفر) {
        اطبع("الحالة: متوفر").
    } وإلا {
        اطبع("الحالة: مُستعار").
    }
    اطبع_سطر_جديد().
    
    اطبع("عدد الاستعارات: ").
    اطبع_عدد(الكتاب->عدد_الاستعارات).
    اطبع_سطر_جديد().
}

// دالة عرض جميع الكتب
فراغ عرض_جميع_الكتب() {
    إذا (عدد_الكتب == ٠) {
        اطبع("المكتبة فارغة").
        إرجع.
    }
    
    لكل (عدد_صحيح ي = ٠؛ ي < عدد_الكتب؛ ي++) {
        اطبع("كتاب رقم ").
        اطبع_عدد(ي + ١).
        اطبع(":").
        طباعة_كتاب(&مكتبة[ي]).
        اطبع("---").
    }
}

عدد_صحيح رئيسية() {
    // إضافة بعض الكتب
    إضافة_كتاب("البرمجة بلغة باء", "أحمد محمد", ١٠٠١, ٢٠٢٤).
    إضافة_كتاب("مقدمة في الخوارزميات", "فاطمة علي", ١٠٠٢, ٢٠٢٣).
    إضافة_كتاب("هياكل البيانات", "محمد حسن", ١٠٠٣, ٢٠٢٢).
    
    عدد_صحيح الاختيار.
    عدد_صحيح رقم_الكتاب.
    عدد_صحيح فهرس_الكتاب.
    
    طالما (صحيح) {
        اطبع("=== نظام إدارة المكتبة ===").
        اطبع("١. عرض جميع الكتب").
        اطبع("٢. البحث عن كتاب").
        اطبع("٣. استعارة كتاب").
        اطبع("٤. إرجاع كتاب").
        اطبع("٠. خروج").
        اطبع("اختر العملية: ").
        
        اقرأ_عدد(&الاختيار).
        
        إذا (الاختيار == ١) {
            عرض_جميع_الكتب().
        } وإلا إذا (الاختيار == ٢) {
            اطبع("أدخل رقم الكتاب: ").
            اقرأ_عدد(&رقم_الكتاب).
            فهرس_الكتاب = البحث_بالرقم(رقم_الكتاب).
            
            إذا (فهرس_الكتاب != -١) {
                طباعة_كتاب(&مكتبة[فهرس_الكتاب]).
            } وإلا {
                اطبع("لم يُعثر على الكتاب").
            }
        } وإلا إذا (الاختيار == ٣) {
            اطبع("أدخل رقم الكتاب للاستعارة: ").
            اقرأ_عدد(&رقم_الكتاب).
            فهرس_الكتاب = البحث_بالرقم(رقم_الكتاب).
            
            إذا (فهرس_الكتاب != -١) {
                إذا (استعارة_كتاب(فهرس_الكتاب)) {
                    اطبع("تمت الاستعارة بنجاح").
                } وإلا {
                    اطبع("الكتاب غير متوفر").
                }
            } وإلا {
                اطبع("لم يُعثر على الكتاب").
            }
        } وإلا إذا (الاختيار == ٤) {
            اطبع("أدخل رقم الكتاب للإرجاع: ").
            اقرأ_عدد(&رقم_الكتاب).
            فهرس_الكتاب = البحث_بالرقم(رقم_الكتاب).
            
            إذا (فهرس_الكتاب != -١) {
                إذا (إرجاع_كتاب(فهرس_الكتاب)) {
                    اطبع("تم الإرجاع بنجاح").
                } وإلا {
                    اطبع("الكتاب لم يكن مُستعاراً").
                }
            } وإلا {
                اطبع("لم يُعثر على الكتاب").
            }
        } وإلا إذا (الاختيار == ٠) {
            اطبع("شكراً لاستخدام نظام إدارة المكتبة!").
            توقف.
        } وإلا {
            اطبع("اختيار غير صحيح، حاول مرة أخرى").
        }
    }
    
    إرجع ٠.
}
```

## 🔧 تطبيقات متقدمة

### محلل تعبيرات رياضية

```baa
// تعريف أنواع العمليات
تعداد نوع_العملية {
    عملية_جمع,
    عملية_طرح,
    عملية_ضرب,
    عملية_قسمة,
    عملية_قوة,
    عملية_جذر
}.

// هيكل العملية الرياضية
هيكل عملية_رياضية {
    نوع_العملية النوع.
    عدد_حقيقي المعامل_الأول.
    عدد_حقيقي المعامل_الثاني.
    عدد_حقيقي النتيجة.
}.

// دالة تنفيذ العملية
عملية_رياضية تنفيذ_العملية(نوع_العملية النوع، عدد_حقيقي أ، عدد_حقيقي ب) {
    عملية_رياضية النتيجة.
    النتيجة.النوع = النوع.
    النتيجة.المعامل_الأول = أ.
    النتيجة.المعامل_الثاني = ب.
    
    إذا (النوع == عملية_جمع) {
        النتيجة.النتيجة = أ + ب.
    } وإلا إذا (النوع == عملية_طرح) {
        النتيجة.النتيجة = أ - ب.
    } وإلا إذا (النوع == عملية_ضرب) {
        النتيجة.النتيجة = أ * ب.
    } وإلا إذا (النوع == عملية_قسمة) {
        إذا (ب != ٠) {
            النتيجة.النتيجة = أ / ب.
        } وإلا {
            النتيجة.النتيجة = ٠. // خطأ في القسمة على صفر
        }
    } وإلا إذا (النوع == عملية_قوة) {
        النتيجة.النتيجة = ١.
        لكل (عدد_صحيح ي = ٠؛ ي < ب؛ ي++) {
            النتيجة.النتيجة = النتيجة.النتيجة * أ.
        }
    }
    
    إرجع النتيجة.
}

// دالة طباعة العملية
فراغ طباعة_العملية(عملية_رياضية العملية) {
    // طباعة المعامل الأول
    اطبع_عدد_حقيقي(العملية.المعامل_الأول).
    
    // طباعة العملية
    إذا (العملية.النوع == عملية_جمع) {
        اطبع(" + ").
    } وإلا إذا (العملية.النوع == عملية_طرح) {
        اطبع(" - ").
    } وإلا إذا (العملية.النوع == عملية_ضرب) {
        اطبع(" × ").
    } وإلا إذا (العملية.النوع == عملية_قسمة) {
        اطبع(" ÷ ").
    } وإلا إذا (العملية.النوع == عملية_قوة) {
        اطبع(" ^ ").
    }
    
    // طباعة المعامل الثاني والنتيجة
    اطبع_عدد_حقيقي(العملية.المعامل_الثاني).
    اطبع(" = ").
    اطبع_عدد_حقيقي(العملية.النتيجة).
    اطبع_سطر_جديد().
}

عدد_صحيح رئيسية() {
    // إنشاء مصفوفة من العمليات
    عملية_رياضية العمليات[٦].
    عدد_صحيح عدد_العمليات = ٠.
    
    // إضافة عمليات مختلفة
    العمليات[عدد_العمليات] = تنفيذ_العملية(عملية_جمع, ١٠، ٥).
    عدد_العمليات++.
    
    العمليات[عدد_العمليات] = تنفيذ_العملية(عملية_طرح, ٢٠، ٨).
    عدد_العمليات++.
    
    العمليات[عدد_العمليات] = تنفيذ_العملية(عملية_ضرب, ٦، ٧).
    عدد_العمليات++.
    
    العمليات[عدد_العمليات] = تنفيذ_العملية(عملية_قسمة, ٤٨، ٦).
    عدد_العمليات++.
    
    العمليات[عدد_العمليات] = تنفيذ_العملية(عملية_قوة, ٢، ٣).
    عدد_العمليات++.
    
    // طباعة جميع العمليات
    اطبع("=== نتائج العمليات الرياضية ===").
    لكل (عدد_صحيح ي = ٠؛ ي < عدد_العمليات؛ ي++) {
        طباعة_العملية(العمليات[ي]).
    }
    
    إرجع ٠.
}
```

### خوارزمية ضغط النصوص

```baa
// دالة حساب تكرار الأحرف
فراغ حساب_التكرار(حرف النص[]، عدد_صحيح التكرارات[]) {
    عدد_صحيح ي = ٠.
    طالما (النص[ي] != '\ص') {
        إذا (النص[ي] >= 'أ' && النص[ي] <= 'ي') {
            عدد_صحيح فهرس = النص[ي] - 'أ'.
            التكرارات[فهرس]++.
        }
        ي++.
    }
}

// دالة العثور على الأحرف الأكثر تكراراً
عدد_صحيح العثور_على_الأكثر_تكراراً(عدد_صحيح التكرارات[]، عدد_صحيح الحد_الأقصى) {
    عدد_صحيح الأكثر_تكراراً = -١.
    عدد_صحيح أكبر_عدد = ٠.
    
    لكل (عدد_صحيح ي = ٠؛ ي < الحد_الأقصى؛ ي++) {
        إذا (التكرارات[ي] > أكبر_عدد) {
            أكبر_عدد = التكرارات[ي].
            الأكثر_تكراراً = ي.
        }
    }
    
    إرجع الأكثر_تكراراً.
}

// دالة ضغط النص البسيط
فراغ ضغط_النص(حرف النص_الأصلي[]، حرف النص_المضغوط[]) {
    عدد_صحيح تكرارات_الأحرف[٢٨]. // أ-ي = ٢٨ حرفاً
    
    // تهيئة مصفوفة التكرارات
    لكل (عدد_صحيح ي = ٠؛ ي < ٢٨؛ ي++) {
        تكرارات_الأحرف[ي] = ٠.
    }
    
    // حساب التكرارات
    حساب_التكرار(النص_الأصلي، تكرارات_الأحرف).
    
    // العثور على الحرف الأكثر تكراراً
    عدد_صحيح فهرس_الأكثر = العثور_على_الأكثر_تكراراً(تكرارات_الأحرف، ٢٨).
    حرف الحرف_الأكثر = 'أ' + فهرس_الأكثر.
    
    // إنشاء النص المضغوط
    عدد_صحيح فهرس_المضغوط = ٠.
    عدد_صحيح ي = ٠.
    
    طالما (النص_الأصلي[ي] != '\ص') {
        إذا (النص_الأصلي[ي] == الحرف_الأكثر) {
            // استخدام رمز خاص للضغط
            النص_المضغوط[فهرس_المضغوط] = '\ص'. // رمز نهاية نص للضغط
            فهرس_المضغوط++.
        } وإلا {
            النص_المضغوط[فهرس_المضغوط] = النص_الأصلي[ي].
            فهرس_المضغوط++.
        }
        ي++.
    }
    النص_المضغوط[فهرس_المضغوط] = '\ص'.
}

عدد_صحيح رئيسية() {
    حرف النص_الأصلي[] = "هذا نص تجريبي لاختبار خوارزمية ضغط النصوص البسيطة".
    حرف النص_المضغوط[٥٠٠]. // مساحة كافية للنص المضغوط
    
    اطبع("النص الأصلي: ").
    اطبع(النص_الأصلي).
    اطبع_سطر_جديد().
    
    ضغط_النص(النص_الأصلي، النص_المضغوط).
    
    اطبع("النص المضغوط: ").
    اطبع(النص_المضغوط).
    اطبع_سطر_جديد().
    
    إرجع ٠.
}
```

## 📚 أفضل الممارسات المتقدمة

### إدارة الأخطاء والاستثناءات

```baa
// نظام أساسي لمعالجة الأخطاء
تعداد نوع_الخطأ {
    خطأ_لا_يوجد,
    خطأ_ملف_غير_موجود,
    خطأ_صلاحيات_غير_كافية,
    خطأ_ذاكرة_غير_كافية,
    خطأ_إدخال_غير_صحيح,
    خطأ_عملية_غير_مدعومة
}.

// هيكل النتيجة مع معلومات الخطأ
هيكل نتيجة_العملية {
    منطقي نجحت.
    نوع_الخطأ الخطأ.
    حرف رسالة_الخطأ[٢٠٠].
    عدد_صحيح قيمة_النتيجة.
}.

// دالة إنشاء نتيجة ناجحة
نتيجة_العملية نتيجة_ناجحة(عدد_صحيح القيمة) {
    نتيجة_العملية النتيجة.
    النتيجة.نجحت = صحيح.
    النتيجة.الخطأ = خطأ_لا_يوجد.
    النتيجة.رسالة_الخطأ[٠] = '\ص'.
    النتيجة.قيمة_النتيجة = القيمة.
    إرجع النتيجة.
}

// دالة إنشاء نتيجة فاشلة
نتيجة_العملية نتيجة_فاشلة(نوع_الخطأ الخطأ، حرف الرسالة[]) {
    نتيجة_العملية النتيجة.
    النتيجة.نجحت = خطأ.
    النتيجة.الخطأ = الخطأ.
    النتيجة.قيمة_النتيجة = ٠.
    
    // نسخ رسالة الخطأ
    عدد_صحيح ي = ٠.
    طالما (الرسالة[ي] != '\ص' && ي < ١٩٩) {
        النتيجة.رسالة_الخطأ[ي] = الرسالة[ي].
        ي++.
    }
    النتيجة.رسالة_الخطأ[ي] = '\ص'.
    
    إرجع النتيجة.
}

// دالة القسمة الآمنة
نتيجة_العملية قسمة_آمنة(عدد_صحيح المقسوم، عدد_صحيح المقسوم_عليه) {
    إذا (المقسوم_عليه == ٠) {
        إرجع نتيجة_فاشلة(خطأ_عملية_غير_مدعومة، "لا يمكن القسمة على صفر").
    }
    
    إذا (المقسوم == ٠) {
        إرجع نتيجة_ناجحة(٠).
    }
    
    إرجع نتيجة_ناجحة(المقسوم / المقسوم_عليه).
}

عدد_صحيح رئيسية() {
    // اختبار القسمة الآمنة
    نتيجة_العملية نتيجة١ = قسمة_آمنة(١٠، ٢).
    إذا (نتيجة١.نجحت) {
        اطبع("النتيجة: ").
        اطبع_عدد(نتيجة١.قيمة_النتيجة).
    } وإلا {
        اطبع("خطأ: ").
        اطبع(نتيجة١.رسالة_الخطأ).
    }
    اطبع_سطر_جديد().
    
    نتيجة_العملية نتيجة٢ = قسمة_آمنة(١٠، ٠).
    إذا (نتيجة٢.نجحت) {
        اطبع("النتيجة: ").
        اطبع_عدد(نتيجة٢.قيمة_النتيجة).
    } وإلا {
        اطبع("خطأ: ").
        اطبع(نتيجة٢.رسالة_الخطأ).
    }
    اطبع_سطر_جديد().
    
    إرجع ٠.
}
```

---

**هذه الدروس المتقدمة تغطي المفاهيم المعقدة في لغة باء مع أمثلة عملية قابلة للتطبيق. تساعد في تطوير مهارات البرمجة المتقدمة وفهم الخوارزميات المعقدة باللغة العربية.**

*آخر تحديث: 2025-01-09*
