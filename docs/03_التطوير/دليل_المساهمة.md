# دليل المساهمة في مشروع لغة باء

## مرحباً بالمساهمين! 🎉

نرحب بحماس بمساهمات المجتمع العربي وجميع المطورين المهتمين بتطوير لغة البرمجة باء. هذا الدليل سيساعدك على فهم كيفية المساهمة بفعالية في المشروع.

## 🎯 أنواع المساهمات المرحب بها

### 1. تطوير الكود 💻
- إصلاح الأخطاء (Bug fixes)
- إضافة ميزات جديدة
- تحسينات الأداء
- تحسين معالجة الأخطاء

### 2. التوثيق 📚
- تحسين التوثيق الموجود
- إضافة أمثلة جديدة
- ترجمة التوثيق
- كتابة دروس تعليمية

### 3. الاختبارات 🧪
- كتابة اختبارات جديدة
- تحسين تغطية الاختبارات
- إضافة حالات اختبار حدية
- اختبارات الأداء

### 4. المجتمع 🌍
- تقارير الأخطاء
- اقتراح ميزات جديدة
- مساعدة المستخدمين الجدد
- مراجعة الكود

## 🚀 البدء السريع

### 1. إعداد بيئة التطوير

```bash
# استنساخ المستودع
git clone https://github.com/yourusername/baa-language.git
cd baa-language

# إنشاء فرع للعمل عليه
git checkout -b feature/my-contribution

# بناء المشروع
mkdir build && cd build
cmake -G "Ninja" ..
cmake --build .

# تشغيل الاختبارات للتأكد من أن كل شيء يعمل
ctest
```

### 2. فهم بنية المشروع

```
baa/
├── src/               # الكود المصدري الرئيسي
│   ├── lexer/        # المحلل اللفظي
│   ├── parser/       # المحلل النحوي
│   ├── ast/          # شجرة النحو المجردة
│   └── ...           # مكونات أخرى
├── tests/            # الاختبارات
├── docs/             # التوثيق
└── tools/            # أدوات التطوير
```

### 3. أول مساهمة

ابدأ بشيء بسيط مثل:
- إصلاح خطأ إملائي في التوثيق
- إضافة اختبار لحالة مفقودة
- تحسين رسالة خطأ

## 📋 عملية المساهمة

### 1. قبل البدء

1. **تصفح القضايا المفتوحة** في GitHub
2. **ناقش الفكرة** إذا كانت مساهمة كبيرة
3. **تأكد من عدم وجود عمل مشابه** قيد التنفيذ

### 2. تطوير المساهمة

1. **إنشاء فرع جديد**:
   ```bash
   git checkout -b type/short-description
   # مثل: feature/arabic-comments أو bugfix/lexer-crash
   ```

2. **اتباع معايير الترميز** (انظر الأسفل)

3. **كتابة اختبارات** للتغييرات الجديدة

4. **تحديث التوثيق** إذا لزم الأمر

### 3. اختبار المساهمة

```bash
# تشغيل جميع الاختبارات
cd build
ctest

# اختبارات محددة
ctest -R lexer
ctest -R parser

# اختبار أدوات التطوير
./tools/baa_lexer_tester ../tests/resources/lexer_test_cases/lexer_test_suite.baa
./tools/baa_parser_tester ../tests/resources/parser_tests/valid_simple.baa
```

### 4. إرسال المساهمة

1. **تنظيف التاريخ**:
   ```bash
   git add .
   git commit -m "نوع: وصف موجز للتغيير
   
   شرح أكثر تفصيلاً إذا لزم الأمر.
   
   يحل #123"
   ```

2. **دفع الفرع**:
   ```bash
   git push origin feature/my-contribution
   ```

3. **إنشاء Pull Request** في GitHub

## 🔧 معايير الترميز

### أسلوب الكود

#### تسمية الدوال والمتغيرات
```c
// استخدم snake_case للدوال والمتغيرات
int baa_lexer_create(const char* input);
BaaToken current_token;

// استخدم PascalCase للأنواع
typedef struct BaaNode BaaNode;
typedef enum BaaTokenKind BaaTokenKind;

// استخدم UPPER_CASE للثوابت
#define BAA_MAX_IDENTIFIER_LENGTH 256
```

#### تنسيق الكود
```c
// استخدم 4 مسافات للمسافة البادئة
if (condition) {
    do_something();
    
    if (nested_condition) {
        do_nested_action();
    }
}

// ضع الأقواس المعقوفة على سطر منفصل للدوال
int function_name(int parameter)
{
    return parameter * 2;
}
```

#### التعليقات
```c
// التعليقات بالعربية مُرحب بها للشرح
/* 
 * هذه الدالة تحلل رمز معرف عربي
 * وترجع نوع الرمز المناسب
 */
BaaTokenKind parse_arabic_identifier(const wchar_t* text)
{
    // فحص إذا كان المعرف كلمة مفتاحية
    if (is_arabic_keyword(text)) {
        return get_keyword_token_kind(text);
    }
    
    return BAA_TOKEN_IDENTIFIER;
}
```

### بادئات المكونات

```c
// كل مكون له بادئة خاصة
baa_lexer_*     // دوال المحلل اللفظي
baa_parser_*    // دوال المحلل النحوي
baa_ast_*       // دوال شجرة النحو المجردة
baa_node_*      // دوال العقد
baa_*           // دوال عامة
```

### إدارة الذاكرة

```c
// استخدم دوال الذاكرة المخصصة
void* ptr = baa_malloc(size);
char* str = baa_strdup(original);
baa_free(ptr);

// تحقق دائماً من NULL
BaaNode* node = baa_node_create(kind, location);
if (!node) {
    return BAA_ERROR_OUT_OF_MEMORY;
}
```

### معالجة الأخطاء

```c
// استخدم قيم الإرجاع للأخطاء
typedef enum {
    BAA_SUCCESS = 0,
    BAA_ERROR_INVALID_INPUT,
    BAA_ERROR_OUT_OF_MEMORY,
    BAA_ERROR_PARSE_FAILED
} BaaError;

BaaError function_name(Input* input, Output* output)
{
    if (!input || !output) {
        return BAA_ERROR_INVALID_INPUT;
    }
    
    // معالجة...
    
    return BAA_SUCCESS;
}
```

## 🧪 إرشادات الاختبارات

### كتابة اختبارات الوحدة

```c
// استخدم إطار عمل الاختبارات المشروع
#include "test_framework.h"

void test_arabic_identifier_parsing()
{
    // ترتيب
    const wchar_t* input = L"متغير_عربي";
    BaaLexer* lexer = baa_lexer_create(input, wcslen(input));
    
    // تنفيذ
    BaaToken token = baa_lexer_next_token(lexer);
    
    // فحص
    ASSERT_EQ(token.kind, BAA_TOKEN_IDENTIFIER);
    ASSERT_STR_EQ(token.lexeme, L"متغير_عربي");
    
    // تنظيف
    baa_lexer_destroy(lexer);
}

TEST_SUITE(lexer_arabic_tests)
{
    RUN_TEST(test_arabic_identifier_parsing);
    // اختبارات أخرى...
}
```

### اختبارات التكامل

```c
void test_complete_arabic_program()
{
    const wchar_t* program = L"عدد_صحيح رئيسية() {\n"
                            L"    إرجع ٠.\n"
                            L"}";
    
    // اختبار سلسلة التحليل الكاملة
    BaaLexer* lexer = baa_lexer_create(program, wcslen(program));
    BaaParser* parser = baa_parser_create(lexer, NULL);
    BaaParseResult result = baa_parser_parse_program(parser);
    
    ASSERT_TRUE(result.success);
    ASSERT_NOT_NULL(result.node);
    ASSERT_EQ(result.node->kind, BAA_NODE_KIND_PROGRAM);
    
    // تنظيف
    baa_parse_result_destroy(&result);
    baa_parser_destroy(parser);
    baa_lexer_destroy(lexer);
}
```

## 🐛 الإبلاغ عن الأخطاء

### قبل إنشاء قضية جديدة

1. **تأكد من عدم وجود قضية مشابهة**
2. **جرب النسخة الأحدث** من المشروع
3. **اجمع معلومات كافية** للإعادة إنتاج

### قالب تقرير الخطأ

```markdown
## وصف الخطأ
وصف واضح ومختصر للمشكلة.

## خطوات الإعادة إنتاج
1. افتح المترجم
2. اكتب الكود التالي: '...'
3. اضغط على تجميع
4. انظر الخطأ

## السلوك المتوقع
وصف واضح لما كان من المفترض حدوثه.

## السلوك الفعلي
وصف واضح لما حدث بدلاً من ذلك.

## بيئة النظام
- نظام التشغيل: [مثل Windows 10، Ubuntu 20.04]
- إصدار المترجم: [مثل 0.5.0]
- مترجم C: [مثل GCC 9.3، Clang 10.0]

## ملفات إضافية
إرفاق ملفات الكود أو صور الشاشة إذا لزم الأمر.
```

## 💡 اقتراح الميزات

### قالب اقتراح الميزة

```markdown
## ملخص الميزة
وصف موجز للميزة المقترحة.

## الدافع
لماذا هذه الميزة مفيدة؟ ما المشكلة التي تحلها؟

## الحل المقترح
وصف تفصيلي لكيفية عمل الميزة.

## البدائل المدروسة
أي حلول أخرى فكرت فيها؟

## معلومات إضافية
أي سياق إضافي أو لقطات شاشة حول طلب الميزة.
```

## 🏆 الاعتراف بالمساهمين

### مستويات المساهمة

#### 🥉 مساهم جديد
- أول مساهمة مقبولة
- يُضاف إلى قائمة المساهمين

#### 🥈 مساهم نشط  
- 5+ مساهمات مقبولة
- مساهمات منتظمة أو مراجعة كود

#### 🥇 مساهم أساسي
- 20+ مساهمة مقبولة
- قيادة مبادرات مهمة
- مرشح لصلاحيات الصيانة

### طرق الشكر والتقدير

- **قائمة المساهمين** في README
- **شارات خاصة** في ملف المشروع
- **ذكر في ملاحظات الإصدار** للمساهمات المهمة
- **دعوة لفريق المشروع** للمساهمين الأساسيين

## 📞 التواصل والدعم

### قنوات التواصل

- **GitHub Issues**: للأخطاء والميزات
- **GitHub Discussions**: للنقاشات العامة
- **البريد الإلكتروني**: [email] للأمور الحساسة

### أوقات الرد المتوقعة

- **قضايا الأخطاء**: 1-3 أيام
- **طلبات الميزات**: 3-7 أيام  
- **مراجعة Pull Requests**: 2-5 أيام

### آداب التواصل

- **كن محترماً ومتفهماً** لجميع المشاركين
- **استخدم اللغة العربية** كلما أمكن للوصول الأفضل
- **قدم تفاصيل كافية** في تقاريرك واقتراحاتك
- **كن صبوراً** - جميع المساهمين متطوعون

## 🎓 موارد للتعلم

### فهم المشروع

- [معمارية المترجم](../02_معمارية_المترجم/نظرة_عامة_على_المعمارية.md)
- [مواصفات اللغة](../01_مواصفات_اللغة/نظرة_عامة_على_اللغة.md)
- [دليل البناء](دليل_البناء.md)

### تطوير المهارات

- **كتب ومراجع**:
  - "Compilers: Principles, Techniques, and Tools" (Dragon Book)
  - "Modern Compiler Implementation in C"
  - "Language Implementation Patterns"

- **موارد عربية**:
  - مجتمعات البرمجة العربية على GitHub
  - منتديات المطورين العرب
  - قنوات YouTube التعليمية العربية

## 🗺️ خارطة المساهمات

### للمبتدئين (Good First Issues)
- إصلاح أخطاء التوثيق
- إضافة اختبارات بسيطة
- تحسين رسائل الخطأ العربية
- إضافة أمثلة برمجية

### للمطورين متوسطي الخبرة
- تحسينات المحلل اللفظي
- إضافة ميزات نحوية جديدة
- تحسين معالجة الأخطاء
- تطوير أدوات مساعدة

### للخبراء
- تطوير التحليل الدلالي
- تحسينات الأداء
- تطوير توليد الكود
- تصميم معمارية جديدة

## ✅ قائمة فحص المساهمة

قبل إرسال مساهمتك، تأكد من:

- [ ] **الكود يُجمع بدون أخطاء**
- [ ] **جميع الاختبارات تنجح**
- [ ] **الكود يتبع معايير التنسيق**
- [ ] **التوثيق محدث** (إذا لزم الأمر)
- [ ] **اختبارات جديدة مكتوبة** للوظائف الجديدة
- [ ] **رسالة الcommit واضحة ووصفية**
- [ ] **لا توجد أخطاء إملائية أو نحوية**
- [ ] **تم اختبار التغييرات على منصات متعددة** (إذا أمكن)

---

**شكراً لك على اهتمامك بالمساهمة في لغة باء! معاً نبني مستقبل البرمجة العربية. 🚀**
